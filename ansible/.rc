## == Ansible ================================================================
ANSIBLE_VERSION=2.10-awshelm3.5
function ansible() {
    DOCKER_IMAGE=cytopia/ansible:${ANSIBLE_VERSION}
    DOCKER_RUN_OPTS="--rm -it -v ${HOME}/.ssh:/root/.ssh -v ${PWD}:${PWD} -w ${PWD} -e SCW_ACCESS_KEY -e SCW_SECRET_KEY -e SCW_TOKEN -e ANSIBLE_CONFIG -v ${HOME}/.ssh:/root/.ssh"
    if [ -n "$ZSH_VERSION"]; then
        op run --env-file .env -- docker run ${DOCKER_RUN_OPTS} ${DOCKER_IMAGE} ansible $@
    else
        op run --env-file .env -- docker run ${=DOCKER_RUN_OPTS} ${=DOCKER_IMAGE} ansible $@
    fi
}

function ansible-galaxy() {
    DOCKER_IMAGE=cytopia/ansible:${ANSIBLE_VERSION}
    DOCKER_RUN_OPTS="--rm -it -v ${PWD}:${PWD} -w ${PWD} -e SCW_ACCESS_KEY -e SCW_SECRET_KEY -e SCW_TOKEN -e ANSIBLE_CONFIG -v ${HOME}/.ssh:/root/.ssh"
    if [ -n "$ZSH_VERSION"]; then
        op run --env-file .env -- docker run ${DOCKER_RUN_OPTS} ${DOCKER_IMAGE} ansible-galaxy $@
    else
        op run --env-file .env -- docker run ${=DOCKER_RUN_OPTS} ${=DOCKER_IMAGE} ansible-galaxy $@
    fi
}

function ansible-inventory() {
    DOCKER_IMAGE=cytopia/ansible:${ANSIBLE_VERSION}
    DOCKER_RUN_OPTS="--rm -it -v ${PWD}:${PWD} -w ${PWD} -e SCW_ACCESS_KEY -e SCW_SECRET_KEY -e SCW_TOKEN -e ANSIBLE_CONFIG -v ${HOME}/.ssh:/root/.ssh"
    if [ -n "$ZSH_VERSION"]; then
        op run --env-file .env -- docker run ${DOCKER_RUN_OPTS} ${DOCKER_IMAGE} ansible-inventory $@
    else
        op run --env-file .env -- docker run ${=DOCKER_RUN_OPTS} ${=DOCKER_IMAGE} ansible-inventory $@
    fi
}

function ansible-playbook() {
    DOCKER_IMAGE=cytopia/ansible:${ANSIBLE_VERSION}
    DOCKER_RUN_OPTS="--rm -it -v ${PWD}:${PWD} -w ${PWD} -e SCW_ACCESS_KEY -e SCW_SECRET_KEY -e SCW_TOKEN -e ANSIBLE_CONFIG -v ${HOME}/.ssh:/root/.ssh"
    if [ -n "$ZSH_VERSION"]; then
        op run --env-file .env -- docker run ${DOCKER_RUN_OPTS} ${DOCKER_IMAGE} ansible-playbook $@
    else
        op run --env-file .env -- docker run ${=DOCKER_RUN_OPTS} ${=DOCKER_IMAGE} ansible-playbook $@
    fi
}
